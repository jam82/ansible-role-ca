---
# role: ansible-role-ca
# file: defaults/main.yml

# The role is disabled by default, so you do not get in trouble.
# Checked in tasks/main.yml which includes tasks.yml if enabled.
ca_enabled: False

# general settings
ca_country: 'DE'
ca_state: 'Bayern'
ca_locality: 'Erlangen'
ca_organization: 'Mustermann AG'
ca_organizational_unit: 'Mustermann Certificate Authority'
ca_name: 'Mustermann'  # display name
ca_name_short: 'mustermann'  # small letter, i.e. dir = /etc/ssl/{{ ca_name_short }}
ca_base_url: 'http://pki.yourdomain.tld'
ca_oscp_enable: False
ca_oscp_openssl_responder: False
ca_oscp_url: 'http://oscp.yourdomain.tld'
ca_default_bits: 4096
ca_default_md: 'sha512'
ca_unique_subject: 'yes'
ca_link_crls_to_webdir: ''
ca_cron_jobs:
  - name: "Generate CRL for {{ ca_name }} Root CA"
    day: SUN
    hour: '0'
    minute: '1'
    job: "/usr/local/bin/{{ ca_name_short }}-ca-crl-root"
    state: present
  - name: 'Generate CRL for {{ ca_name }} Intermediate CA'
    day: '*'
    hour: '0'
    minute: '2'
    job: "/usr/local/bin/{{ ca_name_short }}-ca-crl-intermediate"
    state: present
  - name: 'Generate CRL for {{ ca_name }} Component CA'
    day: '*'
    hour: '0'
    minute: '3'
    job: "/usr/local/bin/{{ ca_name_short }}-ca-crl-component"
    state: present
  - name: 'Generate CRL for {{ ca_name }} Identity CA'
    day: '*'
    hour: '0'
    minute: '4'
    job: "/usr/local/bin/{{ ca_name_short }}-ca-crl-identity"
    state: present
  - name: 'Generate CRL for {{ ca_name }} Software CA'
    day: MON
    hour: '0'
    minute: '5'
    job: "/usr/local/bin/{{ ca_name_short }}-ca-crl-software"
    state: present

# root-ca specific settings
ca_root_default_days: 3652
ca_root_default_crl_days: 30

# intermediate-ca specific tower_settings
ca_intermediate_default_days: 3652
ca_intermediate_default_crl_days: 30

# identity-ca specific settings
ca_identity_default_days: 1095
ca_identity_default_crl_days: 30

# component-ca specific settings
ca_component_default_days: 730
ca_component_default_crl_days: 30

# software-ca specific settings
ca_software_default_days: 1826
ca_software_default_crl_days: 30

# dictionary for certificate management
ca_certs: {}

# list of dicts of certs to revoke
ca_revoke: []
